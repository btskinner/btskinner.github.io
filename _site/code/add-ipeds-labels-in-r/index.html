<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">


<title>Benjamin T. Skinner | University of Florida</title>



</head>
<body>
  <main>
    <header class="site-header">
      <h1 class="site-title"><a href="/">Benjamin T. Skinner</a></h1>
      <h6 class="site-subtitle"><a href="/">Assistant Professor of Higher Education and Policy | University of Florida</a></h6>
      <nav class="site-nav">
	<a href="/publications/" class="">Publications</a>
        <a href="/presentations/" class="">Presentations</a>
        <a href="/working/" class="">Working</a>
        <a href="/teaching/" class="">Teaching</a>
        <a href="/code/" class="">Code</a>
	<a href="/data/" class="">Data</a>
        <a href="/visualizations/" class="">Visualizations</a>
        <a href="/repository/skinnercv.pdf">CV</a>
        <a href="https://github.com/btskinner"><i class="fa fa-github fa-2x"></i></a>
	<a href="https://twitter.com/btskinner"><i class="fa fa-twitter fa-2x"></i></a>
        <a href="mailto:btskinner@coe.ufl.edu"><i class="fa fa-envelope-o fa-2x"></i></a>
	
      </nav>
    </header>
    <article class="post">
    <br>
    <h1 class="post-header">Add variable and value labels to IPEDS data in R</h1>
    
    
    <p>The purpose of this script is to add Stata variable and value labels
to IPEDS data in R and save the result. One could also use Stata to
(1) read in the data, (2) assign the labels, (3) save the result as a
<code class="highlighter-rouge">*.dta</code> file, and then (4) use the
<a href="https://cran.r-project.org/package=haven"><code class="highlighter-rouge">haven</code></a> package to read
the labelled data into R. This script represents a pure R
solution. You will need the
<a href="https://cran.r-project.org/package=tidyverse"><code class="highlighter-rouge">tidyverse</code></a> and
<a href="https://cran.r-project.org/package=labelled"><code class="highlighter-rouge">labelled</code></a> packages.</p>

<p>To use, download the Stata version of each required data file from
<a href="https://nces.ed.gov/ipeds/datacenter/DataFiles.aspx">IPEDS</a>
(<code class="highlighter-rouge">*_Data_Stata.zip</code>, which is really just a CSV file) along with its
accompanying labelling file, <code class="highlighter-rouge">*_Stata.zip</code>). Do not unzip the
files. By default, the script assumes these two sets of files and all
output will be in the same directory. If you want to use separate
folders for the Stata data, Stata label, and output R data files, you
can set the paths in the script.</p>

<p>(You can batch download the IPEDS files you need using
<a href="https://github.com/btskinner/downloadipeds"><code class="highlighter-rouge">downloadipeds.r</code></a>. Simply
comment out or erase the files you don’t want in the accompanying
<code class="highlighter-rouge">ipeds_file_list.txt</code> and make sure you set the option <code class="highlighter-rouge">stata_data ==
TRUE</code> in the main script.)</p>

<p>Due to changes across IPEDS data files over the years, it’s probable
that some files will not be labelled correctly. That said the script does
run (that is, assign labels) for all IPEDS zip files available as of
mid-June 2018.</p>

<noscript><pre>400: Invalid request
</pre></noscript>
<script src="https://gist.github.com/c8654a4369900d7914310fbb77103c14.js"> </script>


    
</article>

    <br>
  </main>
  <main>
    <div class="footer">
      <p class="foot">&#169; 2019. This site powered by <a href="http://jekyllrb.com">Jekyll</a> + <a href="https://github.com/syaning/vida">vida</a> + <a href="https://pages.github.com">GitHub</a>.</p>

    </div>
  </main>
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-63981025-1', 'auto');
    ga('send', 'pageview');
  </script>
  
</body>
</html>
